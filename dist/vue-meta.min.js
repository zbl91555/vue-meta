!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VueMeta=t()}(this,function(){"use strict";var e=null;function t(t,n){t.$root._vueMeta.initialized||!t.$root._vueMeta.initializing&&"watcher"!==n||(t.$root._vueMeta.initialized=null),t.$root._vueMeta.initialized&&!t.$root._vueMeta.paused&&function(t,n){void 0===n&&(n=10);clearTimeout(e),e=setTimeout(function(){t()},n)}(function(){return t.$meta().refresh()})}function n(e){return Array.isArray(e)}function r(e){return void 0===e}function i(e){return"object"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return"function"==typeof e}function u(e,t){return t&&i(e)?(n(e[t])||(e[t]=[]),e):n(e)?e:[]}function s(e,t,n){u(e,t),e[t].push(n)}function c(e){return void 0===e&&(e=this),e&&(!0===e._vueMeta||i(e._vueMeta))}function f(e){if(!e.$root._vueMeta.navGuards&&e.$root.$router){e.$root._vueMeta.navGuards=!0;var t=e.$root.$router,n=e.$root.$meta();t.beforeEach(function(e,t,r){n.pause(),r()}),t.afterEach(function(){var e=n.resume().metaInfo;e&&e.afterNavigation&&a(e.afterNavigation)&&e.afterNavigation(e)})}}var l=1;var d={title:void 0,titleChunk:"",titleTemplate:"%s",htmlAttrs:{},bodyAttrs:{},headAttrs:{},base:[],link:[],meta:[],style:[],script:[],noscript:[],__dangerouslyDisableSanitizers:[],__dangerouslyDisableSanitizersByTagID:{}},v={keyName:"metaInfo",attribute:"data-vue-meta",ssrAttribute:"data-vue-meta-server-rendered",tagIDKeyName:"vmid",contentKeyName:"content",metaTemplateKeyName:"template",ssrAppId:"ssr"},p=["titleChunk","titleTemplate","changed","__dangerouslyDisableSanitizers","__dangerouslyDisableSanitizersByTagID"],h=["__dangerouslyDisableSanitizers","__dangerouslyDisableSanitizersByTagID"],m=["htmlAttrs","headAttrs","bodyAttrs"],y=["body","pbody"],b=["allowfullscreen","amp","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","truespeed","typemustmatch","visible"],g=function(){return console.warn("This vue app/component has no vue-meta configuration")};function $(e){return void 0===e&&(e=!0),this.$root._vueMeta.paused=!0,function(){return M(e)}}function M(e){if(void 0===e&&(e=!0),this.$root._vueMeta.paused=!1,e)return this.$root.$meta().refresh()}function _(e,t,n,i){var o=e.component,u=e.metaTemplateKeyName,s=e.contentKeyName;return r(n)&&(n=t[u],delete t[u]),!!n&&(r(i)&&(i=t[s]),t[s]=a(n)?n.call(o,i):n.replace(/%s/g,i),!0)}function A(e,t){var n=arguments;if(!Array.prototype.findIndex){for(var r=0;r<e.length;r++)if(t.call(n[2],e[r],r,e))return r;return-1}return e.findIndex(t,arguments[2])}function T(e){return Array.from?Array.from(e):Array.prototype.slice.call(e)}function N(e,t){if(!Array.prototype.includes){for(var n in e)if(e[n]===t)return!0;return!1}return e.includes(t)}var I=[[/&/g,"&"],[/</g,"<"],[/>/g,">"],[/"/g,'"'],[/'/g,"'"]];var w=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===O}(e)}(e)};var O="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function j(e,t){return!1!==t.clone&&t.isMergeableObject(e)?K((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function S(e,t,n){return e.concat(t).map(function(e){return j(e,n)})}function z(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function D(e,t,n){var r={};return n.isMergeableObject(e)&&z(e).forEach(function(t){r[t]=j(e[t],n)}),z(t).forEach(function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=function(e,t){if(!t.customMerge)return K;var n=t.customMerge(e);return"function"==typeof n?n:K}(i,n)(e[i],t[i],n):r[i]=j(t[i],n)}),r}function K(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||S,n.isMergeableObject=n.isMergeableObject||w;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):D(e,t,n):j(t,n)}K.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return K(e,n,t)},{})};var E=K;function k(e,t,n){return void 0===n&&(n={}),t.hasOwnProperty("title")&&void 0===t.title&&delete t.title,m.forEach(function(e){if(t[e])for(var n in t[e])t[e].hasOwnProperty(n)&&void 0===t[e][n]&&(b.includes(n)&&console.warn("VueMeta: Please note that since v2 the value undefined is not used to indicate boolean attributes anymore, see migration guide for details"),delete t[e][n])}),E(e,t,{arrayMerge:function(e,t){return function(e,t,n){var r=e.component,i=e.tagIDKeyName,o=e.metaTemplateKeyName,a=e.contentKeyName,u=[];return t.forEach(function(e,t){if(e[i]){var s=A(n,function(t){return t[i]===e[i]}),c=n[s];if(-1!==s){if(c.hasOwnProperty(a)&&void 0===c[a]||c.hasOwnProperty("innerHTML")&&void 0===c.innerHTML)return u.push(e),void n.splice(s,1);if(null!==c[a]&&null!==c.innerHTML){var f=e[o];f&&(c[o]?c[a]||_({component:r,metaTemplateKeyName:o,contentKeyName:a},c,void 0,e[a]):_({component:r,metaTemplateKeyName:o,contentKeyName:a},c,f))}else n.splice(s,1)}else u.push(e)}else u.push(e)}),u.concat(n)}(n,e,t)}})}function x(e,t,n){void 0===e&&(e={}),void 0===n&&(n={});var o=e.keyName,u=e.metaTemplateKeyName,s=e.tagIDKeyName,c=t.$options,f=t.$children;if(t._inactive)return n;if(c[o]){var l=c[o];if(a(l)&&(l=l.call(t)),!i(l))return n;n=k(n,l,e)}return f.length&&f.forEach(function(t){(function(e){return void 0===e&&(e=this),e&&!r(e._vueMeta)})(t)&&(n=x(e,t,n))}),u&&n.meta&&(n.meta.forEach(function(t){return _(e,t)}),n.meta=n.meta.filter(function(e,t,n){return!e.hasOwnProperty(s)||t===A(n,function(t){return t[s]===e[s]})})),n}function P(e,t,r){void 0===e&&(e={}),void 0===r&&(r=[]);var i=x(e,t,d);i.title&&(i.titleChunk=i.title),i.titleTemplate&&"%s"!==i.titleTemplate&&_({component:t,contentKeyName:"title"},i,i.titleTemplate,i.titleChunk||""),i.base&&(i.base=Object.keys(i.base).length?[i.base]:[]);var a={doEscape:function(e){return r.reduce(function(e,t){var n=t[0],r=t[1];return e.replace(n,r)},e)}};return h.forEach(function(e,t){if(0===t)u(i,e);else if(1===t)for(var n in i[e])u(i[e],n);a[e]=i[e]}),i=function e(t,r,i){var a=r.tagIDKeyName,u=i.doEscape;void 0===u&&(u=function(e){return e});var s={};for(var c in t){var f=t[c];if(N(p,c))s[c]=f;else{var l=h[0];if(i[l]&&N(i[l],c))s[c]=f;else{var d=t[a];d&&(l=h[1],i[l]&&i[l][d]&&N(i[l][d],c))?s[c]=f:"string"==typeof f?s[c]=u(f):n(f)?s[c]=f.map(function(t){return o(t)?e(t,r,i):u(t)}):o(f)?s[c]=e(f,r,i):s[c]=f}}}return s}(i,e,a)}function C(e,t){return e[t]||(e[t]=document.getElementsByTagName(t)[0]),e[t]}function H(e,t,n){var r=t.appId,i=t.attribute,o=t.type,a=t.tagIDKeyName;void 0===n&&(n={});var u=[o+"["+i+'="'+r+'"]',o+"[data-"+a+"]"].map(function(e){for(var t in n){var r=n[t];e+="[data-"+t+(r&&!0!==r?'="'+r+'"':"")+"]"}return e});return T(e.querySelectorAll(u.join(", ")))}function L(e,t,r){void 0===e&&(e={});var i=e.attribute,o=r.getAttribute(i),a=o?o.split(","):[],u=T(a),s=[];for(var c in t)if(t.hasOwnProperty(c)){var f=N(b,c)?"":n(t[c])?t[c].join(" "):t[c];r.setAttribute(c,f||""),N(a,c)||a.push(c),s.push(u.indexOf(c))}var l=u.filter(function(e,t){return!N(s,t)}).reduce(function(e,t){return r.removeAttribute(t),e+1},0);a.length===l?r.removeAttribute(i):r.setAttribute(i,a.sort().join(","))}function B(e,t,n,r,i,o){void 0===t&&(t={});var a=t.attribute,u=t.tagIDKeyName,s=[u].concat(y),c=[],f={appId:e,attribute:a,type:n,tagIDKeyName:u},l={head:H(i,f),pbody:H(o,f,{pbody:!0}),body:H(o,f,{body:!0})};if(r.length>1){var d=[];r=r.filter(function(e){var t=JSON.stringify(e),n=!N(d,t);return d.push(t),n})}if(r.length)for(var v=function(){var t=h[p],r=document.createElement(n);for(var i in r.setAttribute(a,e),t)if(t.hasOwnProperty(i)){if("innerHTML"===i){r.innerHTML=t.innerHTML;continue}if("cssText"===i){r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));continue}var o=N(s,i)?"data-"+i:i,u=N(b,i);if(u&&!t[i])continue;var f=u?"":t[i];r.setAttribute(o,f)}var d=l[function(e){var t=e.body,n=e.pbody;return t?"body":n?"pbody":"head"}(t)],v=void 0;d.some(function(e,t){return v=t,r.isEqualNode(e)})&&(v||0===v)?d.splice(v,1):c.push(r)},p=0,h=r;p<h.length;p+=1)v();for(var m=[],g=0,$=Object.values(l);g<$.length;g+=1){var M=$[g];m=m.concat(M)}for(var _=0,A=m;_<A.length;_+=1){var T=A[_];T.parentNode.removeChild(T)}for(var I=0,w=c;I<w.length;I+=1){var O=w[I];O.hasAttribute("data-body")?o.appendChild(O):O.hasAttribute("data-pbody")?o.insertBefore(O,o.firstChild):i.appendChild(O)}return{oldTags:m,newTags:c}}function V(e){return void 0===e&&(e={}),function(){var t=P(e,this.$root,I),r=function(e,t,r){void 0===t&&(t={});var i=t.ssrAttribute,o=t.ssrAppId,a={},u=C(a,"html");if(e===o&&u.hasAttribute(i))return u.removeAttribute(i),!1;var s,c={},f={};for(var l in r)if(!N(p,l))if("title"!==l){if(N(m,l)){var d=l.substr(0,4);L(t,r[l],C(a,d))}else if(n(r[l])){var v=B(e,t,l,r[l],C(a,"head"),C(a,"body")),h=v.oldTags,y=v.newTags;y.length&&(c[l]=y,f[l]=h)}}else((s=r.title)||""===s)&&(document.title=s);return{addedTags:c,removedTags:f}}(this.$root._vueMeta.appId,e,t);return r&&a(t.changed)&&t.changed(t,r.addedTags,r.removedTags),{vm:this,metaInfo:t,tags:r}}}function q(e,n){void 0===n&&(n={}),e.__vuemeta_installed||(e.__vuemeta_installed=!0,n=function(e){for(var t in e=i(e)?e:{},v)e[t]||(e[t]=v[t]);return e}(n),e.prototype.$meta=function(e){void 0===e&&(e={});var t=V(e),n=function(){};return function(){return this.$root._vueMeta?{getOptions:function(){return function(e){var t={};for(var n in e)t[n]=e[n];return t}(e)},refresh:t.bind(this),inject:n,pause:$.bind(this),resume:M.bind(this)}:{getOptions:g,refresh:g,inject:g,pause:g,resume:g}}}(n),e.mixin(function(e,n){var i=["activated","deactivated","beforeMount"];return{beforeCreate:function(){var o=this;if(Object.defineProperty(this,"_hasMetaInfo",{configurable:!0,get:function(){return e.config.devtools&&!this.$root._vueMeta.hasMetaInfoDeprecationWarningShown&&(console.warn("VueMeta DeprecationWarning: _hasMetaInfo has been deprecated and will be removed in a future version. Please use hasMetaInfo(vm) instead"),this.$root._vueMeta.hasMetaInfoDeprecationWarningShown=!0),c(this)}}),!r(this.$options[n.keyName])&&null!==this.$options[n.keyName]){if(this.$root._vueMeta||(this.$root._vueMeta={appId:l},l++),!this._vueMeta){this._vueMeta=!0;for(var u=this.$parent;u&&u!==this.$root;)r(u._vueMeta)&&(u._vueMeta=!1),u=u.$parent}a(this.$options[n.keyName])&&(this.$options.computed||(this.$options.computed={}),this.$options.computed.$metaInfo=this.$options[n.keyName],this.$isServer||s(this.$options,"created",function(){o.$watch("$metaInfo",function(){t(this,"watcher")})})),r(this.$root._vueMeta.initialized)&&(this.$root._vueMeta.initialized=this.$isServer,this.$root._vueMeta.initialized||(s(this.$options,"beforeMount",function(){o.$root.$el&&o.$root.$el.hasAttribute&&o.$root.$el.hasAttribute("data-server-rendered")&&(o.$root._vueMeta.appId=n.ssrAppId)}),s(this.$options,"mounted",function(){o.$root._vueMeta.initialized||(o.$root._vueMeta.initializing=!0,o.$nextTick(function(){var e=this,r=this.$root.$meta().refresh(),i=r.tags,o=r.metaInfo;!1===i&&null===this.$root._vueMeta.initialized&&this.$nextTick(function(){return t(e,"initializing")}),this.$root._vueMeta.initialized=!0,delete this.$root._vueMeta.initializing,!n.refreshOnceOnNavigation&&o.afterNavigation&&f(this)}))}),n.refreshOnceOnNavigation&&f(this))),this.$isServer||(i.forEach(function(e){s(o.$options,e,function(){return t(o,e)})}),s(this.$options,"destroyed",function(){var e=setInterval(function(){o.$el&&null!==o.$el.offsetParent||(clearInterval(e),o.$parent&&t(o,"destroyed"))},50)}))}}}}(e,n)))}return r(window)||r(window.Vue)||q(window.Vue),{version:"2.1.0",install:q,hasMetaInfo:c}});
